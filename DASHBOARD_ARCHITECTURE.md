# ğŸ—ï¸ Architecture Dashboard Keneya Muso

## Vue d'Ensemble

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         KENEYA MUSO - DASHBOARD                         â”‚
â”‚                      Architecture Frontend â†” Backend                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                           ğŸ“± FLUTTER APP                                â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚                   ğŸ¨ PRESENTATION LAYER                       â”‚    â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤    â”‚
â”‚  â”‚                                                               â”‚    â”‚
â”‚  â”‚  ğŸ“„ page_dashboard_pro.dart                                  â”‚    â”‚
â”‚  â”‚    - StatefulWidget                                           â”‚    â”‚
â”‚  â”‚    - _loadDashboardStats()                                    â”‚    â”‚
â”‚  â”‚    - RefreshIndicator                                         â”‚    â”‚
â”‚  â”‚    - Error handling                                           â”‚    â”‚
â”‚  â”‚                                                               â”‚    â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚    â”‚
â”‚  â”‚  â”‚  ğŸ“¦ widgets/                                        â”‚    â”‚    â”‚
â”‚  â”‚  â”‚                                                     â”‚    â”‚    â”‚
â”‚  â”‚  â”‚  â€¢ stats_grid.dart                                  â”‚    â”‚    â”‚
â”‚  â”‚  â”‚    â”œâ”€ GridView (Ligne 1: 2 cols)                   â”‚    â”‚    â”‚
â”‚  â”‚  â”‚    â”œâ”€ GridView (Ligne 2: 2 cols)                   â”‚    â”‚    â”‚
â”‚  â”‚  â”‚    â””â”€ StatCard (Ligne 3: full width)               â”‚    â”‚    â”‚
â”‚  â”‚  â”‚                                                     â”‚    â”‚    â”‚
â”‚  â”‚  â”‚  â€¢ stat_card.dart                                   â”‚    â”‚    â”‚
â”‚  â”‚  â”‚    â”œâ”€ GestureDetector (onTap navigation)           â”‚    â”‚    â”‚
â”‚  â”‚  â”‚    â”œâ”€ Container (colored background)               â”‚    â”‚    â”‚
â”‚  â”‚  â”‚    â”œâ”€ CircleAvatar (icon)                          â”‚    â”‚    â”‚
â”‚  â”‚  â”‚    â””â”€ Text (value + label)                         â”‚    â”‚    â”‚
â”‚  â”‚  â”‚                                                     â”‚    â”‚    â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚    â”‚
â”‚  â”‚                                                               â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                                                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚                   ğŸ”§ BUSINESS LOGIC LAYER                     â”‚    â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤    â”‚
â”‚  â”‚                                                               â”‚    â”‚
â”‚  â”‚  ğŸ“„ services/professionnel_sante_service.dart                â”‚    â”‚
â”‚  â”‚                                                               â”‚    â”‚
â”‚  â”‚  Future<ApiResponse<DashboardStatsResponse>>                 â”‚    â”‚
â”‚  â”‚  getDashboardStats() async {                                 â”‚    â”‚
â”‚  â”‚    â”œâ”€ 1. Get token from SharedPreferences                    â”‚    â”‚
â”‚  â”‚    â”œâ”€ 2. Build HTTP GET request                              â”‚    â”‚
â”‚  â”‚    â”œâ”€ 3. Add Bearer token to headers                         â”‚    â”‚
â”‚  â”‚    â”œâ”€ 4. Call API                                            â”‚    â”‚
â”‚  â”‚    â”œâ”€ 5. Parse JSON response                                 â”‚    â”‚
â”‚  â”‚    â”œâ”€ 6. Convert to DashboardStatsResponse                   â”‚    â”‚
â”‚  â”‚    â””â”€ 7. Return ApiResponse wrapper                          â”‚    â”‚
â”‚  â”‚  }                                                            â”‚    â”‚
â”‚  â”‚                                                               â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                                                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚                      ğŸ“Š DATA LAYER                            â”‚    â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤    â”‚
â”‚  â”‚                                                               â”‚    â”‚
â”‚  â”‚  ğŸ“„ models/dto/dashboard_stats_response.dart                 â”‚    â”‚
â”‚  â”‚                                                               â”‚    â”‚
â”‚  â”‚  class DashboardStatsResponse {                              â”‚    â”‚
â”‚  â”‚    final int totalPatientes;                                 â”‚    â”‚
â”‚  â”‚    final int suivisTermines;                                 â”‚    â”‚
â”‚  â”‚    final int suivisEnCours;                                  â”‚    â”‚
â”‚  â”‚    final int rappelsActifs;                                  â”‚    â”‚
â”‚  â”‚    final int alertesActives;                                 â”‚    â”‚
â”‚  â”‚                                                               â”‚    â”‚
â”‚  â”‚    factory fromJson(Map<String, dynamic> json) {             â”‚    â”‚
â”‚  â”‚      // Robust conversion (long â†’ int)                       â”‚    â”‚
â”‚  â”‚    }                                                          â”‚    â”‚
â”‚  â”‚  }                                                            â”‚    â”‚
â”‚  â”‚                                                               â”‚    â”‚
â”‚  â”‚  ğŸ“„ models/dto/api_response.dart                             â”‚    â”‚
â”‚  â”‚                                                               â”‚    â”‚
â”‚  â”‚  class ApiResponse<T> {                                      â”‚    â”‚
â”‚  â”‚    final bool success;                                       â”‚    â”‚
â”‚  â”‚    final String? message;                                    â”‚    â”‚
â”‚  â”‚    final T? data;                                            â”‚    â”‚
â”‚  â”‚  }                                                            â”‚    â”‚
â”‚  â”‚                                                               â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                                                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚                   âš™ï¸  CONFIGURATION                           â”‚    â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤    â”‚
â”‚  â”‚                                                               â”‚    â”‚
â”‚  â”‚  ğŸ“„ config/api_config.dart                                   â”‚    â”‚
â”‚  â”‚                                                               â”‚    â”‚
â”‚  â”‚  baseUrl: 'http://10.0.2.2:8080'  (Android Emulator)        â”‚    â”‚
â”‚  â”‚  headers: { 'Content-Type': 'application/json' }            â”‚    â”‚
â”‚  â”‚  headersWithAuth(token): { 'Authorization': 'Bearer ...' }  â”‚    â”‚
â”‚  â”‚                                                               â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                                                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                    â”‚
                                    â”‚ HTTP GET /api/dashboard/medecin
                                    â”‚ Authorization: Bearer <JWT>
                                    â”‚
                                    â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         â˜• SPRING BOOT BACKEND                          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚                  ğŸ¯ CONTROLLER LAYER                          â”‚    â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤    â”‚
â”‚  â”‚                                                               â”‚    â”‚
â”‚  â”‚  ğŸ“„ controller/DashboardController.java                      â”‚    â”‚
â”‚  â”‚                                                               â”‚    â”‚
â”‚  â”‚  @RestController                                             â”‚    â”‚
â”‚  â”‚  @RequestMapping("/api/dashboard")                           â”‚    â”‚
â”‚  â”‚  @SecurityRequirement(name = "bearerAuth")                   â”‚    â”‚
â”‚  â”‚                                                               â”‚    â”‚
â”‚  â”‚  @GetMapping("/medecin")                                     â”‚    â”‚
â”‚  â”‚  ResponseEntity<ApiResponse<DashboardStatsResponse>>         â”‚    â”‚
â”‚  â”‚  getMedecinDashboardStats(Authentication auth) {             â”‚    â”‚
â”‚  â”‚    â”œâ”€ 1. Extract telephone from JWT                          â”‚    â”‚
â”‚  â”‚    â”œâ”€ 2. Call dashboardService                               â”‚    â”‚
â”‚  â”‚    â””â”€ 3. Return ApiResponse wrapper                          â”‚    â”‚
â”‚  â”‚  }                                                            â”‚    â”‚
â”‚  â”‚                                                               â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                                                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚                   âš™ï¸  SERVICE LAYER                           â”‚    â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤    â”‚
â”‚  â”‚                                                               â”‚    â”‚
â”‚  â”‚  ğŸ“„ service/DashboardService.java                            â”‚    â”‚
â”‚  â”‚                                                               â”‚    â”‚
â”‚  â”‚  @Service                                                     â”‚    â”‚
â”‚  â”‚  @Transactional(readOnly = true)                             â”‚    â”‚
â”‚  â”‚                                                               â”‚    â”‚
â”‚  â”‚  DashboardStatsResponse                                      â”‚    â”‚
â”‚  â”‚  getMedecinDashboardStats(String telephone) {                â”‚    â”‚
â”‚  â”‚    â”œâ”€ 1. Find ProfessionnelSante by telephone                â”‚    â”‚
â”‚  â”‚    â”œâ”€ 2. Count total patientes                               â”‚    â”‚
â”‚  â”‚    â”œâ”€ 3. Count grossesses terminÃ©es                          â”‚    â”‚
â”‚  â”‚    â”œâ”€ 4. Count grossesses en cours                           â”‚    â”‚
â”‚  â”‚    â”œâ”€ 5. Count rappels actifs (ENVOYE)                       â”‚    â”‚
â”‚  â”‚    â”œâ”€ 6. Count alertes actives (EN_ATTENTE)                  â”‚    â”‚
â”‚  â”‚    â””â”€ 7. Build and return DTO                                â”‚    â”‚
â”‚  â”‚  }                                                            â”‚    â”‚
â”‚  â”‚                                                               â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                                                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚                 ğŸ—„ï¸  REPOSITORY LAYER                          â”‚    â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤    â”‚
â”‚  â”‚                                                               â”‚    â”‚
â”‚  â”‚  ğŸ“„ repository/PatienteRepository.java                       â”‚    â”‚
â”‚  â”‚    â€¢ findIdsByProfessionnelSanteId(Long id)                  â”‚    â”‚
â”‚  â”‚    â€¢ countGrossessesTermineesByMedecinId(Long id)            â”‚    â”‚
â”‚  â”‚    â€¢ countGrossessesEnCoursByMedecinId(Long id)              â”‚    â”‚
â”‚  â”‚                                                               â”‚    â”‚
â”‚  â”‚  ğŸ“„ repository/RappelRepository.java                         â”‚    â”‚
â”‚  â”‚    â€¢ countByProfessionnelIdAndStatut(Long id, StatutRappel)  â”‚    â”‚
â”‚  â”‚                                                               â”‚    â”‚
â”‚  â”‚  ğŸ“„ repository/DossierMedicalSubmissionRepository.java       â”‚    â”‚
â”‚  â”‚    â€¢ countByProfessionnelSanteIdAndStatus(Long, Status)      â”‚    â”‚
â”‚  â”‚                                                               â”‚    â”‚
â”‚  â”‚  ğŸ“„ repository/UtilisateurRepository.java                    â”‚    â”‚
â”‚  â”‚    â€¢ findByTelephone(String telephone)                       â”‚    â”‚
â”‚  â”‚                                                               â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                                                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚                    ğŸ“¦ DTO LAYER                               â”‚    â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤    â”‚
â”‚  â”‚                                                               â”‚    â”‚
â”‚  â”‚  ğŸ“„ dto/response/DashboardStatsResponse.java                 â”‚    â”‚
â”‚  â”‚                                                               â”‚    â”‚
â”‚  â”‚  @Data                                                        â”‚    â”‚
â”‚  â”‚  @Builder                                                     â”‚    â”‚
â”‚  â”‚  public class DashboardStatsResponse {                       â”‚    â”‚
â”‚  â”‚    private long totalPatientes;                              â”‚    â”‚
â”‚  â”‚    private long suivisTermines;                              â”‚    â”‚
â”‚  â”‚    private long suivisEnCours;                               â”‚    â”‚
â”‚  â”‚    private long rappelsActifs;                               â”‚    â”‚
â”‚  â”‚    private long alertesActives;                              â”‚    â”‚
â”‚  â”‚  }                                                            â”‚    â”‚
â”‚  â”‚                                                               â”‚    â”‚
â”‚  â”‚  ğŸ“„ dto/response/ApiResponse.java                            â”‚    â”‚
â”‚  â”‚                                                               â”‚    â”‚
â”‚  â”‚  @Data                                                        â”‚    â”‚
â”‚  â”‚  public class ApiResponse<T> {                               â”‚    â”‚
â”‚  â”‚    private boolean success;                                  â”‚    â”‚
â”‚  â”‚    private String message;                                   â”‚    â”‚
â”‚  â”‚    private T data;                                           â”‚    â”‚
â”‚  â”‚                                                               â”‚    â”‚
â”‚  â”‚    static <T> ApiResponse<T> success(String msg, T data) {   â”‚    â”‚
â”‚  â”‚      return new ApiResponse<>(true, msg, data);              â”‚    â”‚
â”‚  â”‚    }                                                          â”‚    â”‚
â”‚  â”‚  }                                                            â”‚    â”‚
â”‚  â”‚                                                               â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                                                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚                   ğŸ” SECURITY LAYER                           â”‚    â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤    â”‚
â”‚  â”‚                                                               â”‚    â”‚
â”‚  â”‚  ğŸ“„ security/JwtAuthenticationFilter.java                    â”‚    â”‚
â”‚  â”‚    â”œâ”€ Extract JWT from Authorization header                  â”‚    â”‚
â”‚  â”‚    â”œâ”€ Validate token                                         â”‚    â”‚
â”‚  â”‚    â”œâ”€ Extract telephone from token                           â”‚    â”‚
â”‚  â”‚    â””â”€ Set Authentication in SecurityContext                  â”‚    â”‚
â”‚  â”‚                                                               â”‚    â”‚
â”‚  â”‚  ğŸ“„ security/JwtTokenProvider.java                           â”‚    â”‚
â”‚  â”‚    â”œâ”€ Generate JWT token                                     â”‚    â”‚
â”‚  â”‚    â”œâ”€ Validate JWT token                                     â”‚    â”‚
â”‚  â”‚    â””â”€ Extract claims from token                              â”‚    â”‚
â”‚  â”‚                                                               â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                                                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                    â”‚
                                    â”‚ JPA / Hibernate
                                    â”‚
                                    â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         ğŸ—„ï¸  POSTGRESQL DATABASE                         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                         â”‚
â”‚  ğŸ“Š Table: patiente                                                    â”‚
â”‚    - id (PK)                                                           â”‚
â”‚    - professionnel_sante_assigne_id (FK)                               â”‚
â”‚    - nom, prenom, telephone, ...                                       â”‚
â”‚                                                                         â”‚
â”‚  ğŸ“Š Table: grossesse                                                   â”‚
â”‚    - id (PK)                                                           â”‚
â”‚    - patiente_id (FK)                                                  â”‚
â”‚    - statut (EN_COURS, TERMINEE, ...)                                 â”‚
â”‚    - date_debut, date_prevue_accouchement, ...                        â”‚
â”‚                                                                         â”‚
â”‚  ğŸ“Š Table: rappel                                                      â”‚
â”‚    - id (PK)                                                           â”‚
â”‚    - utilisateur_id (FK) â†’ ProfessionnelSante                         â”‚
â”‚    - statut (ENVOYE, LU, ...)                                         â”‚
â”‚    - type_rappel (CPN, CPON, VACCINATION, ...)                        â”‚
â”‚                                                                         â”‚
â”‚  ğŸ“Š Table: dossier_medical_submission                                  â”‚
â”‚    - id (PK)                                                           â”‚
â”‚    - professionnel_sante_id (FK)                                       â”‚
â”‚    - status (EN_ATTENTE, VALIDE, REJETE)                              â”‚
â”‚    - payload (JSONB)                                                   â”‚
â”‚                                                                         â”‚
â”‚  ğŸ“Š Table: utilisateur (Inheritance: JOINED)                           â”‚
â”‚    - id (PK)                                                           â”‚
â”‚    - telephone                                                         â”‚
â”‚    - mot_de_passe_hash                                                 â”‚
â”‚    - role (PATIENTE, MEDECIN, ADMINISTRATEUR)                         â”‚
â”‚                                                                         â”‚
â”‚  ğŸ“Š Table: professionnel_sante (extends utilisateur)                   â”‚
â”‚    - specialite                                                        â”‚
â”‚    - numero_ordre                                                      â”‚
â”‚                                                                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ”„ SÃ©quence d'Appel ComplÃ¨te

```
User                Flutter App              Backend API              Database
  â”‚                      â”‚                        â”‚                       â”‚
  â”‚  1. Open Dashboard   â”‚                        â”‚                       â”‚
  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€>â”‚                        â”‚                       â”‚
  â”‚                      â”‚                        â”‚                       â”‚
  â”‚                      â”‚  2. initState()        â”‚                       â”‚
  â”‚                      â”‚     _loadDashboardStats()                      â”‚
  â”‚                      â”‚                        â”‚                       â”‚
  â”‚                      â”‚  3. Get token from     â”‚                       â”‚
  â”‚                      â”‚     SharedPreferences  â”‚                       â”‚
  â”‚                      â”‚                        â”‚                       â”‚
  â”‚                      â”‚  4. HTTP GET /api/dashboard/medecin            â”‚
  â”‚                      â”‚     + Bearer Token     â”‚                       â”‚
  â”‚                      â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€>â”‚                       â”‚
  â”‚                      â”‚                        â”‚                       â”‚
  â”‚                      â”‚                        â”‚  5. Validate JWT      â”‚
  â”‚                      â”‚                        â”‚     Extract telephone â”‚
  â”‚                      â”‚                        â”‚                       â”‚
  â”‚                      â”‚                        â”‚  6. Find ProfessionnelSante
  â”‚                      â”‚                        â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€>â”‚
  â”‚                      â”‚                        â”‚<â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
  â”‚                      â”‚                        â”‚  User entity          â”‚
  â”‚                      â”‚                        â”‚                       â”‚
  â”‚                      â”‚                        â”‚  7. Count patientes   â”‚
  â”‚                      â”‚                        â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€>â”‚
  â”‚                      â”‚                        â”‚<â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
  â”‚                      â”‚                        â”‚  45                   â”‚
  â”‚                      â”‚                        â”‚                       â”‚
  â”‚                      â”‚                        â”‚  8. Count grossesses  â”‚
  â”‚                      â”‚                        â”‚     terminÃ©es         â”‚
  â”‚                      â”‚                        â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€>â”‚
  â”‚                      â”‚                        â”‚<â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
  â”‚                      â”‚                        â”‚  12                   â”‚
  â”‚                      â”‚                        â”‚                       â”‚
  â”‚                      â”‚                        â”‚  9. Count grossesses  â”‚
  â”‚                      â”‚                        â”‚     en cours          â”‚
  â”‚                      â”‚                        â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€>â”‚
  â”‚                      â”‚                        â”‚<â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
  â”‚                      â”‚                        â”‚  33                   â”‚
  â”‚                      â”‚                        â”‚                       â”‚
  â”‚                      â”‚                        â”‚  10. Count rappels    â”‚
  â”‚                      â”‚                        â”‚      actifs           â”‚
  â”‚                      â”‚                        â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€>â”‚
  â”‚                      â”‚                        â”‚<â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
  â”‚                      â”‚                        â”‚  8                    â”‚
  â”‚                      â”‚                        â”‚                       â”‚
  â”‚                      â”‚                        â”‚  11. Count alertes    â”‚
  â”‚                      â”‚                        â”‚      actives          â”‚
  â”‚                      â”‚                        â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€>â”‚
  â”‚                      â”‚                        â”‚<â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
  â”‚                      â”‚                        â”‚  3                    â”‚
  â”‚                      â”‚                        â”‚                       â”‚
  â”‚                      â”‚                        â”‚  12. Build DTO        â”‚
  â”‚                      â”‚                        â”‚      DashboardStats   â”‚
  â”‚                      â”‚                        â”‚      Response         â”‚
  â”‚                      â”‚                        â”‚                       â”‚
  â”‚                      â”‚  13. JSON Response     â”‚                       â”‚
  â”‚                      â”‚      200 OK            â”‚                       â”‚
  â”‚                      â”‚<â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤                       â”‚
  â”‚                      â”‚  {                     â”‚                       â”‚
  â”‚                      â”‚    totalPatientes: 45, â”‚                       â”‚
  â”‚                      â”‚    suivisTermines: 12, â”‚                       â”‚
  â”‚                      â”‚    suivisEnCours: 33,  â”‚                       â”‚
  â”‚                      â”‚    rappelsActifs: 8,   â”‚                       â”‚
  â”‚                      â”‚    alertesActives: 3   â”‚                       â”‚
  â”‚                      â”‚  }                     â”‚                       â”‚
  â”‚                      â”‚                        â”‚                       â”‚
  â”‚                      â”‚  14. Parse JSON        â”‚                       â”‚
  â”‚                      â”‚      fromJson()        â”‚                       â”‚
  â”‚                      â”‚                        â”‚                       â”‚
  â”‚                      â”‚  15. setState()        â”‚                       â”‚
  â”‚                      â”‚      _stats = data     â”‚                       â”‚
  â”‚                      â”‚      _isLoading = falseâ”‚                       â”‚
  â”‚                      â”‚                        â”‚                       â”‚
  â”‚                      â”‚  16. Build StatsGrid   â”‚                       â”‚
  â”‚                      â”‚      Display 5 cards   â”‚                       â”‚
  â”‚                      â”‚                        â”‚                       â”‚
  â”‚  17. UI Updated      â”‚                        â”‚                       â”‚
  â”‚<â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤                        â”‚                       â”‚
  â”‚  [Dashboard visible] â”‚                        â”‚                       â”‚
  â”‚                      â”‚                        â”‚                       â”‚
```

---

## ğŸ“Š Mapping des DonnÃ©es

```
Backend (Java long)          Flutter (Dart int)          UI Display
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
totalPatientes: 45L    â†’     totalPatientes: 45     â†’    "45"
suivisTermines: 12L    â†’     suivisTermines: 12     â†’    "12"
suivisEnCours: 33L     â†’     suivisEnCours: 33      â†’    "33"
rappelsActifs: 8L      â†’     rappelsActifs: 8       â†’    "8"
alertesActives: 3L     â†’     alertesActives: 3      â†’    "3"
```

**Note**: La fonction `toInt()` dans `DashboardStatsResponse.fromJson()` gÃ¨re automatiquement la conversion `long` â†’ `int`.

---

## ğŸ¨ HiÃ©rarchie des Widgets

```
PageDashboardPro (StatefulWidget)
â”‚
â””â”€ Scaffold
   â”‚
   â”œâ”€ AppBar
   â”‚  â”œâ”€ Logo
   â”‚  â”œâ”€ Notification Icon (badge)
   â”‚  â””â”€ Profile Avatar
   â”‚
   â”œâ”€ Body: RefreshIndicator
   â”‚  â””â”€ SingleChildScrollView
   â”‚     â””â”€ Column
   â”‚        â”œâ”€ WelcomeBanner
   â”‚        â””â”€ StatsGrid
   â”‚           â”‚
   â”‚           â”œâ”€ GridView (2x2)
   â”‚           â”‚  â”œâ”€ StatCard (Patientes)    [Cliquable]
   â”‚           â”‚  â””â”€ StatCard (En cours)
   â”‚           â”‚
   â”‚           â”œâ”€ SizedBox (spacing)
   â”‚           â”‚
   â”‚           â”œâ”€ GridView (2x2)
   â”‚           â”‚  â”œâ”€ StatCard (TerminÃ©s)
   â”‚           â”‚  â””â”€ StatCard (Rappels)      [Cliquable]
   â”‚           â”‚
   â”‚           â”œâ”€ SizedBox (spacing)
   â”‚           â”‚
   â”‚           â””â”€ StatCard (Alertes)         [Cliquable]
   â”‚              (Full width)
   â”‚
   â””â”€ BottomNavigationBar: ProBottomNavBar
      â”œâ”€ [Accueil]        â† Current
      â”œâ”€ [Patientes]
      â”œâ”€ [Accompagnements]
      â””â”€ [ParamÃ¨tres]
```

---

## ğŸ” Flux d'Authentification

```
Login Screen                                  SharedPreferences
     â”‚                                              â”‚
     â”‚  1. User enters credentials                 â”‚
     â”‚     +22377777777 / medecin123                â”‚
     â”‚                                              â”‚
     â”‚  2. POST /api/auth/login                    â”‚
     â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
     â”‚                                              â”‚
     â”‚  3. Response: { token, user }               â”‚
     â”‚<â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
     â”‚                                              â”‚
     â”‚  4. Save token                               â”‚
     â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€>â”‚
     â”‚     prefs.setString('auth_token', token)    â”‚
     â”‚                                              â”‚
     â”‚  5. Save user info                           â”‚
     â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€>â”‚
     â”‚     prefs.setInt('user_id', id)             â”‚
     â”‚     prefs.setString('user_role', role)      â”‚
     â”‚                                              â”‚
     â”‚  6. Navigate to Dashboard                    â”‚
     â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€>                â”‚
     â”‚                                              â”‚
     â”‚                                              â”‚
Dashboard Screen                                    â”‚
     â”‚                                              â”‚
     â”‚  7. Load token                               â”‚
     â”‚<â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
     â”‚     token = prefs.getString('auth_token')   â”‚
     â”‚                                              â”‚
     â”‚  8. Call API with token                      â”‚
     â”‚     GET /api/dashboard/medecin              â”‚
     â”‚     Authorization: Bearer <token>           â”‚
     â”‚                                              â”‚
```

---

## ğŸ§© DÃ©pendances

### Flutter (pubspec.yaml)

```yaml
dependencies:
  flutter:
    sdk: flutter
  
  # HTTP client
  http: ^1.1.0
  
  # Local storage
  shared_preferences: ^2.2.2
  
  # Navigation
  # (built-in Flutter)
```

### Spring Boot (pom.xml)

```xml
<dependencies>
  <!-- Spring Boot Web -->
  <dependency>
    <groupId>org.springframework.boot</groupId>
    <artifactId>spring-boot-starter-web</artifactId>
  </dependency>
  
  <!-- Spring Boot Security -->
  <dependency>
    <groupId>org.springframework.boot</groupId>
    <artifactId>spring-boot-starter-security</artifactId>
  </dependency>
  
  <!-- JWT -->
  <dependency>
    <groupId>io.jsonwebtoken</groupId>
    <artifactId>jjwt-api</artifactId>
  </dependency>
  
  <!-- JPA / Hibernate -->
  <dependency>
    <groupId>org.springframework.boot</groupId>
    <artifactId>spring-boot-starter-data-jpa</artifactId>
  </dependency>
  
  <!-- PostgreSQL -->
  <dependency>
    <groupId>org.postgresql</groupId>
    <artifactId>postgresql</artifactId>
  </dependency>
  
  <!-- Lombok -->
  <dependency>
    <groupId>org.projectlombok</groupId>
    <artifactId>lombok</artifactId>
  </dependency>
</dependencies>
```

---

## ğŸ“ˆ Performance

| OpÃ©ration | Temps Moyen | Optimisation |
|-----------|-------------|--------------|
| **Login** | 300-500ms | Token caching |
| **Dashboard Load** | 200-400ms | SQL indexes |
| **Pull-to-Refresh** | 200-400ms | Connection pooling |
| **Navigation** | <100ms | Client-side routing |

### Optimisations Backend

1. **Indexes SQL** sur:
   - `patiente.professionnel_sante_assigne_id`
   - `grossesse.patiente_id`
   - `grossesse.statut`
   - `rappel.utilisateur_id`
   - `rappel.statut`

2. **Query Optimization**:
   - `COUNT(*)` au lieu de charger toutes les entitÃ©s
   - `@Transactional(readOnly = true)` pour les lectures

3. **Connection Pooling**:
   - HikariCP (par dÃ©faut avec Spring Boot)
   - Min pool size: 5
   - Max pool size: 20

---

## ğŸ¯ Points ClÃ©s

1. âœ… **Architecture en couches** (Presentation â†’ Service â†’ Repository)
2. âœ… **SÃ©paration des responsabilitÃ©s** (Controller, Service, Repository)
3. âœ… **DTO pattern** pour l'encapsulation des donnÃ©es
4. âœ… **API Response wrapper** standardisÃ©
5. âœ… **JWT Authentication** pour la sÃ©curitÃ©
6. âœ… **Error handling** Ã  tous les niveaux
7. âœ… **Type safety** (strong typing Java + Dart)
8. âœ… **Reactive UI** (setState + RefreshIndicator)

---

**Date**: 2025-01-16  
**Status**: âœ… Architecture validÃ©e et implÃ©mentÃ©e


